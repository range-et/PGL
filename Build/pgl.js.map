{"mappings":"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AC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;KACT;CACF,AAAC;;ADpFF;AEDA,MAAM,yCAAa,GAAG;IACpB,KAAK,EAAE;QACL;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,iBAAiB;YAAE,MAAM,EAAE,CAAC;SAAE;QACpE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,qBAAqB;YAAE,MAAM,EAAE,CAAC;SAAE;QACxE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACpE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,iBAAiB;YAAE,MAAM,EAAE,CAAC;SAAE;QACnE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACpE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,qBAAqB;YAAE,EAAE,EAAE,iBAAiB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACpE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,oBAAoB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,CAAC;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,GAAG;YAAE,MAAM,EAAE,CAAC;SAAE;QACtD;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,iBAAiB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,iBAAiB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,kBAAkB;YAAE,MAAM,EAAE,CAAC;SAAE;QACrE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,oBAAoB;YAAE,MAAM,EAAE,CAAC;SAAE;QACxE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,kBAAkB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACtE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;QACvE;YAAE,EAAE,EAAE,EAAE;YAAE,EAAE,EAAE,mBAAmB;YAAE,EAAE,EAAE,mBAAmB;YAAE,MAAM,EAAE,CAAC;SAAE;KACxE;IACD,KAAK,EAAE;QACL;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,aAAC;SAAC;QACN;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,aAAC;AAAE,cAAE;SAAC;QACP;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;AAAC,cAAE;AAAE,cAAE;SAAC;QACR;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","sources":["Src/Drawing/Drawing.ts","Src/HelperClasses/Utilities.ts","Src/HelperClasses/GeometryHelpers.ts","Src/HelperClasses/Point.ts","Src/HelperClasses/Line.ts","Src/GraphAlgorithms/GraphMethods.ts","Src/Core/Graph.ts","Src/Core/Edge.ts","Src/Drawing/ThreeJSDrawer.ts","Src/HelperClasses/ColorHelper.ts","Src/Shaders/vertexShader.glsl.ts","Src/Shaders/fragmentShader.glsl.ts","Src/index.ts","Src/SampleData/DataLoader.ts","Src/SampleData/ZKC.ts","Src/SampleData/ZKC_simulated.ts","Src/HelperClasses/GraphConstructors.ts","Src/Core/_Node.ts","Src/Drawing/GraphDrawer.ts"],"sourcesContent":["import Utilities from \"../HelperClasses/Utilities\";\r\nimport GeometryHelpers from \"../HelperClasses/GeometryHelpers\";\r\nimport { Point } from \"../HelperClasses/Point\";\r\nimport { Line } from \"../HelperClasses/Line\";\r\nimport { Edge } from \"../Core/Edge\";\r\nimport GraphMethods from \"../GraphAlgorithms/GraphMethods\";\r\nimport { Graph } from \"../Core/Graph\";\r\nimport { _Node } from \"../Core/_Node\";\r\n\r\n// draw kamada kawai\r\nasync function SimulateKamadaKawai(\r\n  G: Graph,\r\n  iterations: number,\r\n  simulationBound: number = 200,\r\n  cohesionValue: number = 1\r\n) {\r\n  const adjList = G.get_adjacency();\r\n  // pos map\r\n  const PosMapX: Map<number, number> = new Map();\r\n  const PosMapY: Map<number, number> = new Map();\r\n  let rx, ry;\r\n  for (const node of adjList.keys()) {\r\n    rx = Math.random() * simulationBound;\r\n    ry = Math.random() * simulationBound;\r\n    PosMapX.set(node, rx);\r\n    PosMapY.set(node, ry);\r\n  }\r\n  // start simulation\r\n  for (let i = 0; i < iterations; i++) {\r\n    // calculate the clustering force\r\n    // these two keep track of the node being simulated's\r\n    // position - redeclaring is sorta unncessary\r\n    let nodeX: number;\r\n    let nodeY: number;\r\n    // also keep track of all the x_s and y_s\r\n    let x_s: number[];\r\n    let y_s: number[];\r\n    // also the same thing for the clustering force\r\n    let y_r: number[];\r\n    let x_r: number[];\r\n    // same thing for the cohesion values that get recalculated\r\n    let new_c_xpos_dispacement: number;\r\n    let new_c_ypos_dispacement: number;\r\n\r\n    for (const node of adjList.keys()) {\r\n      // this chunk is for the attraction force\r\n      // get the node pos\r\n      const neighbours = adjList.get(node)!;\r\n      // remember always declare this nodes details\r\n      nodeX = PosMapX.get(node)!;\r\n      nodeY = PosMapY.get(node)!;\r\n      // get the set of x's\r\n      x_s = [];\r\n      // get the set of y's\r\n      y_s = [];\r\n      // now iterate through the pos list and append\r\n      neighbours.forEach((n_s) => {\r\n        const n_pos_x = PosMapX.get(n_s)!;\r\n        const n_pos_y = PosMapY.get(n_s)!;\r\n        x_s.push(n_pos_x);\r\n        y_s.push(n_pos_y);\r\n      });\r\n      // now average out the values\r\n      const new_c_xpos = Utilities.calculateAverage(x_s);\r\n      const new_c_ypos = Utilities.calculateAverage(y_s);\r\n\r\n      // this chunk is for the repelling force\r\n      y_r = [];\r\n      x_r = [];\r\n      let diffx: number;\r\n      let diffy: number;\r\n      let othernodeX: number;\r\n      let othernodeY: number;\r\n\r\n      // then find the element\r\n      for (const otherNode of G.nodes.keys()) {\r\n        // get the position of all the other nodes\r\n        if (otherNode != node) {\r\n          // calculate inverse distance\r\n          othernodeX = PosMapX.get(otherNode)!;\r\n          othernodeY = PosMapY.get(otherNode)!;\r\n          diffx = othernodeX - nodeX;\r\n          diffy = othernodeY - nodeY;\r\n          // get the inverse square value\r\n          // add that to the *_r arrays\r\n          x_r.push(diffx);\r\n          y_r.push(diffy);\r\n        }\r\n      }\r\n      // this is the repulsion value\r\n      const A_mult = 2;\r\n      const new_x_r_pos =\r\n        (A_mult * 1) /\r\n        (Utilities.calculateAverage(x_r) * Utilities.calculateAverage(x_r));\r\n      const new_y_r_pos =\r\n        (A_mult * 1) /\r\n        (Utilities.calculateAverage(y_r) * Utilities.calculateAverage(y_r));\r\n\r\n      // calculate the dispacement amount in c/y pos\r\n      // this is the cohesion value\r\n      const new_c_xpos_dispacement = cohesionValue * (new_c_xpos - nodeX);\r\n      const new_c_ypos_dispacement = cohesionValue * (new_c_ypos - nodeY);\r\n\r\n      // then add the x and y components of the two vectors\r\n      const new_xpos = new_x_r_pos + new_c_xpos_dispacement + nodeX;\r\n      const new_ypos = new_y_r_pos + new_c_ypos_dispacement + nodeY;\r\n\r\n      // now set these positions\r\n      PosMapX.set(node, new_xpos);\r\n      PosMapY.set(node, new_ypos);\r\n    }\r\n  }\r\n  // return the position\r\n  // keep in mind three JS works with Y upwards and not Z\r\n  // in my head I work the other way round so Im swapping the Z and Y values here\r\n  let PosMap: Map<number, Point> = new Map();\r\n  for (const p of PosMapX.keys()) {\r\n    PosMap.set(p, new Point(PosMapX.get(p)!, 0, PosMapY.get(p)!));\r\n  }\r\n  // get / set positions\r\n  // move the points\r\n  // Since this simulation might have moved the whole graph off screen\r\n  // get the average pos\r\n  const sim_x = [];\r\n  const sim_y = [];\r\n  const sim_z = [];\r\n  let interimPoint;\r\n  for (const p of PosMap.keys()) {\r\n    interimPoint = PosMap.get(p)!;\r\n    sim_x.push(interimPoint.x);\r\n    sim_y.push(interimPoint.y);\r\n    sim_z.push(interimPoint.z);\r\n  }\r\n\r\n  const x_displacement = Utilities.calculateAverage(sim_x);\r\n  const y_displacement = Utilities.calculateAverage(sim_y);\r\n  const z_displacement = Utilities.calculateAverage(sim_z);\r\n  const dispacementVector = new Point(\r\n    -x_displacement,\r\n    -y_displacement,\r\n    -z_displacement\r\n  );\r\n\r\n  PosMap = MovePmap(PosMap, dispacementVector);\r\n  return PosMap;\r\n}\r\n\r\n// instanciate a random set of positions\r\nfunction InstanciateRandomPositions(G: Graph) {\r\n  const adjList = G.get_adjacency();\r\n  const PosMapX = new Map();\r\n  const PosMapY = new Map();\r\n  for (const node of adjList.keys()) {\r\n    PosMapX.set(node, Math.random() * 200);\r\n    PosMapY.set(node, Math.random() * 200);\r\n  }\r\n  let PosMap = new Map();\r\n  for (const p of PosMapX.keys()) {\r\n    PosMap.set(p, new Point(PosMapX.get(p), 0, PosMapY.get(p)));\r\n  }\r\n  G.apply_position_map(PosMap);\r\n  const lmap = DrawEdgeLines(G, 1);\r\n  return { pmap: PosMap, emap: lmap };\r\n}\r\n\r\n// draw the edge representations and then store them in the edge classes\r\nfunction DrawEdgeLines(G: Graph, divDistance: number) {\r\n  // this is the return map\r\n  const lineMap: Map<number, Line> = new Map();\r\n  let edge: Edge;\r\n  let start: Point;\r\n  let end: Point;\r\n  for (const key of G.edges.keys()) {\r\n    edge = G.edges.get(key)!;\r\n    // get the start pos\r\n    start = G.nodes.get(edge.start)!.data.pos;\r\n    end = G.nodes.get(edge.end)!.data.pos;\r\n    const Line = GeometryHelpers.line_from_start_end_distance(\r\n      start,\r\n      end,\r\n      divDistance\r\n    );\r\n    lineMap.set(key, Line);\r\n  }\r\n  return lineMap;\r\n}\r\n\r\n// now draw out the edge bundling thing\r\nasync function DrawEdgeBundling(\r\n  LineMap: Map<number, Line>,\r\n  iterations: number,\r\n  distance: number\r\n) {\r\n  const returnArray = LineMap;\r\n  // variables that are getting reused\r\n  let line: Line;\r\n  let otherLine: Line;\r\n  let x_s: number[];\r\n  let y_s: number[];\r\n  let z_s: number[];\r\n  let pnt: Point;\r\n  let otherpoint: Point;\r\n  let d: number;\r\n  let x_d: number;\r\n  let y_d: number;\r\n  let z_d: number;\r\n  let avgx: number;\r\n  let avgy: number;\r\n  let avgz: number;\r\n  // run it for whatever number of iterations\r\n  for (let i = 0; i < iterations; i++) {\r\n    // then iterate through every line\r\n    for (let key of returnArray.keys()) {\r\n      // then get the line that we are working with\r\n      line = returnArray.get(key)!;\r\n      // then for each point in the line we have to move it closer to the other points\r\n      for (let ii = 1; ii < line.points.length - 1; ii++) {\r\n        // then get the point that we need to work with\r\n        x_s = [];\r\n        y_s = [];\r\n        z_s = [];\r\n        pnt = line.points[ii];\r\n        // then run the point accumulation algoritm\r\n        for (let otherKey of returnArray.keys()) {\r\n          if (otherKey != key) {\r\n            // then get the other line\r\n            otherLine = returnArray.get(otherKey)!;\r\n            for (let iii = 1; iii < otherLine.points.length - 1; iii++) {\r\n              otherpoint = otherLine.points[iii];\r\n              d = Utilities.calculateSquaredDistance(pnt, otherpoint);\r\n              if (d <= Math.pow(distance, 2)) {\r\n                x_d = otherpoint.x - pnt.x;\r\n                y_d = otherpoint.y - pnt.y;\r\n                z_d = otherpoint.z - pnt.z;\r\n                x_s.push(x_d);\r\n                y_s.push(y_d);\r\n                z_s.push(z_d);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // now create a new displacement amount\r\n        avgx = pnt.x + 0.8 * (Utilities.calculateAverage(x_s) || 0);\r\n        avgy = pnt.y + 0.8 * (Utilities.calculateAverage(y_s) || 0);\r\n        avgz = pnt.z + 0.8 * (Utilities.calculateAverage(z_s) || 0);\r\n        const newPoint = new Point(avgx, avgy, avgz);\r\n        line.points[ii] = newPoint;\r\n      }\r\n    }\r\n  }\r\n  // now return that new map\r\n  return returnArray;\r\n}\r\n\r\n// displace the th edges\r\n// sorta like and arc in the middle of the thing\r\nfunction DisplaceEdgeInY(LineMap: Map<number, Line>, displacement: number) {\r\n  for (const key of LineMap.keys()) {\r\n    const line = LineMap.get(key)!;\r\n    // now for all the points in this\r\n    let pnt, ydisval;\r\n    for (let i = 0; i < line.points.length; i++) {\r\n      pnt = line.points[i];\r\n      ydisval =\r\n        displacement * Math.sin((Math.PI * i) / (line.points.length - 1));\r\n      pnt.y = pnt.y + ydisval;\r\n    }\r\n  }\r\n}\r\n\r\n// displace the graph by some measure\r\nfunction DisplaceVertices(\r\n  nodeMap: Map<number, _Node>,\r\n  parameter: string,\r\n  displacement: number\r\n) {\r\n  let max: number = 0;\r\n  let value: number, ydisplacement: number;\r\n  // go through the thing and set the min max values\r\n  for (let node of nodeMap.values()) {\r\n    value = eval(\"node.data.\" + parameter);\r\n    if (value >= max) {\r\n      max = value;\r\n    }\r\n  }\r\n  // go through the nodes again and set the values\r\n  for (const node of nodeMap.values()) {\r\n    value = eval(\"node.data.\" + parameter);\r\n    ydisplacement = (value / max) * displacement;\r\n    // now filter the values so that we know that the values are between a max and a min\r\n    ydisplacement = Math.max(0, ydisplacement); // this sets the lower bound to be something\r\n    ydisplacement = Math.min(displacement, ydisplacement); // this sets the upper bound of the thing\r\n    node.data.pos.y = ydisplacement;\r\n  }\r\n}\r\n\r\n// draw the circular vertical packing crypto like drawing\r\nasync function HivePlot(\r\n  G: Graph,\r\n  selectedNode: number,\r\n  step: number,\r\n  startP: Point\r\n) {\r\n  const adj = G.get_adjacency();\r\n  const DijkstraDepth = await GraphMethods.Dijkstra(G, selectedNode);\r\n  // calculate the number of steps that I am searching through\r\n  const steps = Math.max(...[...DijkstraDepth.values()]);\r\n  // step map\r\n  const stepMap = new Map();\r\n  // now create a stepped ring of stuff\r\n  for (let i = 0; i <= steps; i++) {\r\n    const ntier = [];\r\n    for (const nkey of DijkstraDepth.keys()) {\r\n      if (i == DijkstraDepth.get(nkey)) {\r\n        ntier.push(nkey);\r\n      }\r\n    }\r\n    stepMap.set(i, ntier);\r\n  }\r\n  // the returning pos map\r\n  const Pmap = new Map();\r\n  // now find the relevant node Positions\r\n  // get the start positions\r\n  const xoff = startP.x || 0;\r\n  const yoff = startP.y || 0;\r\n  const zoff = startP.z || 0;\r\n  // set the positions\r\n  for (const node of adj.keys()) {\r\n    const yval = DijkstraDepth.get(node)! * step;\r\n    const depthArr = stepMap.get(DijkstraDepth.get(node));\r\n    const angle = 2 * Math.PI * (depthArr.indexOf(node) / depthArr.length);\r\n    const xval = Math.sin(angle) * yval;\r\n    const zval = Math.cos(angle) * yval;\r\n    // construct a new point\r\n    const pnt = new Point(xval + xoff, -yval + yoff, zval + zoff);\r\n    Pmap.set(node, pnt);\r\n  }\r\n  // simulate the lines\r\n  G.apply_position_map(Pmap);\r\n  const lmap = DrawEdgeLines(G, 1);\r\n  const newLmap = await DrawEdgeBundling(lmap, 12, 5);\r\n  return { pmap: Pmap, emap: newLmap };\r\n}\r\n\r\n// move graph\r\nfunction MoveGraph(G: Graph, dispacement: Point) {\r\n  const Gmap = G.get_map();\r\n  const NewPmap = MovePmap(Gmap.pmap, dispacement);\r\n  const NewEmap = MoveEmap(Gmap.emap, dispacement);\r\n  G.apply_drawing_maps({ pmap: NewPmap, emap: NewEmap });\r\n}\r\n\r\n// move pmap\r\nfunction MovePmap(Pmap: Map<number, Point>, displacement: Point) {\r\n  const newPmap: Map<number, Point> = new Map();\r\n  for (let node of Pmap.keys()) {\r\n    const p = Pmap.get(node)!;\r\n    p.translate(displacement);\r\n    newPmap.set(node, p);\r\n  }\r\n  return newPmap;\r\n}\r\n\r\n// move the edges\r\nfunction MoveEmap(Emap: Map<number, Line>, dispacement: Point) {\r\n  const newEmap: Map<number, Line> = new Map();\r\n  // variables - instead of redeclaring\r\n  let interimPoints: Point[];\r\n  let interimLine: Line;\r\n  let newLine: Line;\r\n  for (let lineNumber of Emap.keys()) {\r\n    // reset the interim points\r\n    interimPoints = [];\r\n    // get the line\r\n    interimLine = Emap.get(lineNumber)!;\r\n    // move all the points\r\n    for (let pnt of interimLine.points) {\r\n      pnt.translate(dispacement);\r\n      // add this to the new stack of lines\r\n      interimPoints.push(pnt);\r\n    }\r\n    // create a new line\r\n    newLine = new Line(interimPoints);\r\n    // add this to the new map\r\n    newEmap.set(lineNumber, newLine);\r\n  }\r\n  return newEmap;\r\n}\r\n\r\n// THIS IS THE BIT THATS A BIT CONFUSING\r\n/*\r\nData for visualization is store in the graph under the elements data\r\nSo for example - the position data under a point in the graph is under \r\n- Graph.nodes.get(whatever node).data.pos \r\n*/\r\n// commenting out because appears to be redundant\r\n// update edge lines after moving points or something\r\n// this redraws the lines based on distance\r\nfunction UpdateEdgeLinesDist(G: Graph, divDistance: number) {\r\n  let edge: Edge;\r\n  let start: Point;\r\n  let end: Point;\r\n  let line: Line;\r\n  for (const key of G.edges.keys()) {\r\n    edge = G.edges.get(key)!;\r\n    // get the start pos\r\n    start = G.nodes.get(edge.start)!.data.pos;\r\n    end = G.nodes.get(edge.end)!.data.pos;\r\n    line = GeometryHelpers.line_from_start_end_distance(\r\n      start,\r\n      end,\r\n      divDistance\r\n    );\r\n    edge.data.ldata = line;\r\n  }\r\n}\r\n\r\n// function Update EdgeLines based on the number of divisions\r\n// redraw the line based on divisions\r\nfunction UpdateEdgeLinesDivs(G: Graph, Divs: number) {\r\n  let edge: Edge;\r\n  let start: Point;\r\n  let end: Point;\r\n  let line: Line;\r\n  for (const key of G.edges.keys()) {\r\n    edge = G.edges.get(key)!;\r\n    // get the start pos\r\n    start = G.nodes.get(edge.start)!.data.pos;\r\n    end = G.nodes.get(edge.end)!.data.pos;\r\n    line = GeometryHelpers.line_from_start_end_divisions(start, end, Divs);\r\n    edge.data.ldata = line;\r\n  }\r\n}\r\n\r\nexport default {\r\n  SimulateKamadaKawai,\r\n  DrawEdgeLines,\r\n  DrawEdgeBundling,\r\n  HivePlot,\r\n  DisplaceEdgeInY,\r\n  MoveGraph,\r\n  InstanciateRandomPositions,\r\n  DisplaceVertices,\r\n  // these two are special functions\r\n  UpdateEdgeLinesDist,\r\n  UpdateEdgeLinesDivs,\r\n};\r\n","import { Point } from \"./Point\";\r\n\r\n// Calculate average\r\nfunction calculateAverage(arr: number[]) {\r\n  let runningSum = 0;\r\n  for (let i = 0; i < arr.length; i++) {\r\n    runningSum = runningSum + arr[i];\r\n  }\r\n  const avg = runningSum / arr.length;\r\n  return avg;\r\n}\r\n\r\n// calculate distance between two points\r\nfunction calculateDistance(p1: Point, p2: Point) {\r\n  const d = Math.pow(\r\n    Math.pow(p1.x - p2.x, 2) +\r\n      Math.pow(p1.y - p2.y, 2) +\r\n      Math.pow(p1.z - p2.z, 2),\r\n    0.5\r\n  );\r\n  return d;\r\n}\r\n\r\n// calculate squared distance sometimes we dont really need\r\n// the actual root but just a rough idea\r\nfunction calculateSquaredDistance(p1: Point, p2: Point) {\r\n  const d =\r\n    Math.pow(p1.x - p2.x, 2) +\r\n    Math.pow(p1.y - p2.y, 2) +\r\n    Math.pow(p1.z - p2.z, 2);\r\n  return d;\r\n}\r\n\r\n// get a random subset of something from a array of things\r\n// must provide the number of things we want from that array\r\nfunction getRandomSubset(arr: any[], n: number) {\r\n  var result = new Array(n),\r\n    len = arr.length,\r\n    taken = new Array(len);\r\n  if (n > len)\r\n    throw new RangeError(\"getRandom: more elements taken than available\");\r\n  while (n--) {\r\n    var x = Math.floor(Math.random() * len);\r\n    result[n] = arr[x in taken ? taken[x] : x];\r\n    taken[x] = --len in taken ? taken[len] : len;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport default {\r\n  calculateAverage,\r\n  calculateDistance,\r\n  calculateSquaredDistance,\r\n  getRandomSubset,\r\n};\r\n","import { Point } from \"./Point\";\r\nimport { Line } from \"./Line\";\r\nimport Utilities from \"./Utilities\";\r\n\r\nfunction line_from_start_end_divisions(start: Point, end: Point, divisions:number) {\r\n  // create a start and end time\r\n  const Start = new Point(start.x, start.y, start.z);\r\n  const End = new Point(end.x, end.y, end.z);\r\n  // interpolated points\r\n  const points: Point[] = [];\r\n  // divisions\r\n  for (let i = 0; i <= divisions; i++) {\r\n    const interVar = i / divisions;\r\n    const newx = interVar * Start.x + (1 - interVar) * End.x;\r\n    const newy = interVar * Start.y + (1 - interVar) * End.y;\r\n    const newz = interVar * Start.z + (1 - interVar) * End.z;\r\n    const newPoint = new Point(newx, newy, newz);\r\n    points.push(newPoint);\r\n  }\r\n  // create a new line\r\n  const SubdividedLine = new Line(points);\r\n  return SubdividedLine;\r\n}\r\n\r\nfunction line_from_start_end_distance(start:Point, end:Point, distance:number) {\r\n  const dist = Utilities.calculateDistance(start, end);\r\n  const divs = Math.round(dist / distance) + 2;\r\n  const subdivline = line_from_start_end_divisions(start, end, divs);\r\n  return subdivline;\r\n}\r\n\r\nfunction centroid(points:Point[]) {\r\n  let rx = 0;\r\n  let ry = 0;\r\n  let rz = 0;\r\n  points.forEach((element) => {\r\n    rx += element.x;\r\n    ry += element.y;\r\n    rz += element.z;\r\n  });\r\n  rx = rx / points.length;\r\n  ry = ry / points.length;\r\n  rz = rz / points.length;\r\n  const centroid = new Point(rx, ry, rz);\r\n  return centroid;\r\n}\r\n\r\nexport default {\r\n  line_from_start_end_divisions,\r\n  line_from_start_end_distance,\r\n  centroid,\r\n};\r\n","interface Point {\r\n  x: number;\r\n  y: number;\r\n  z: number;\r\n}\r\n\r\nclass Point {\r\n  constructor(x:number, y:number, z:number) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n\r\n  // Points are somewhat the same thing as a vector \r\n  // So im using the same type instead of redeclaring the \r\n  // Type\r\n  translate(Point:Point) {\r\n    this.x = this.x + Point.x;\r\n    this.y = this.y + Point.y;\r\n    this.z = this.z + Point.z;\r\n  }\r\n}\r\n\r\nexport { Point };\r\n","import { Point } from \"./Point\";\r\n\r\ninterface Line {\r\n  points: Point[];\r\n}\r\n\r\nclass Line {\r\n  constructor(points: Point[]) {\r\n    this.points = [];\r\n    points.forEach((p) => {\r\n      const point = new Point(p.x, p.y, p.z);\r\n      this.points.push(point);\r\n    });\r\n  }\r\n}\r\n\r\nexport { Line };\r\n","import { Edge } from \"../Core/Edge\";\r\nimport { Graph } from \"../Core/Graph\";\r\nimport { _Node } from \"../Core/_Node\";\r\n\r\n// do a BFS Search Starting from some point\r\n// searches the whole graph and returns a map of which node\r\n// was searched from where\r\n// to speed this up all the nodes are actually numbers\r\nasync function BFSSearch(G:Graph, node:number) {\r\n  const adj = G.get_adjacency();\r\n  const exploredFromMap:Map<number,number> = new Map();\r\n\r\n  const explored:number[] = [];\r\n  const stack:number[] = [];\r\n\r\n  // queue the first node\r\n  stack.push(node);\r\n  exploredFromMap.set(node, -1);\r\n\r\n  // search through the whole graph\r\n  while (stack.length > 0) {\r\n    const currentNode = stack.pop()!;\r\n    // add this current node to the explored list\r\n    explored.push(currentNode);\r\n    const neighbours = adj.get(currentNode);\r\n    for (let i = 0; i < neighbours!.length; i++) {\r\n      const neighbour = neighbours![i];\r\n      if (!explored.includes(neighbour)) {\r\n        stack.push(neighbour);\r\n        exploredFromMap.set(neighbour, currentNode);\r\n      }\r\n    }\r\n  }\r\n  // then return the explored from map\r\n  return exploredFromMap;\r\n}\r\n\r\n// do a dijkstra Search Distance map\r\nasync function Dijkstra(G:Graph, Node:number) {\r\n  const adj = G.get_adjacency();\r\n  const Dmap:Map<number, number> = new Map();\r\n  // get the explored from map\r\n  const exploredFromMap = await BFSSearch(G, Node);\r\n  // then for each element in the map go through\r\n  // contact trace where that element came from\r\n  for (const n of adj.keys()) {\r\n    let i = 0;\r\n    let exploredFrom = exploredFromMap.get(n)!;\r\n    while (exploredFrom != -1) {\r\n      exploredFrom = exploredFromMap.get(exploredFrom)!;\r\n      i += 1;\r\n    }\r\n    Dmap.set(n, i);\r\n  }\r\n  // now return this map\r\n  return Dmap;\r\n}\r\n\r\n// This file contains basic things like\r\n// Graph searches and stuff\r\n// this only returns one of the diameters that is the longest \r\n// not all of them\r\nasync function GraphDiameter(graph:Graph) {\r\n  // find the diameter of the graph\r\n  // start Dijkstra from some random node\r\n  let seed = Math.floor(Math.random() * graph.nodes.size);\r\n  let Dstart = await Dijkstra(graph, seed);\r\n  // iterate through all the values and then get\r\n  // the value that is the highest amongst the others\r\n  let currentDistance = -1;\r\n  for (const n of Dstart.keys()) {\r\n    const dval = Dstart.get(n)!;\r\n    if (dval > currentDistance) {\r\n      seed = n;\r\n      currentDistance = dval;\r\n    }\r\n  }\r\n  // then search from there to the furthest point again\r\n  const newStart = seed;\r\n  Dstart = await Dijkstra(graph, seed);\r\n  // repeat the thing\r\n  currentDistance = -1;\r\n  for (const n of Dstart.keys()) {\r\n    const dval = Dstart.get(n)!;\r\n    if (dval > currentDistance) {\r\n      seed = n;\r\n      currentDistance = dval;\r\n    }\r\n  }\r\n  const returnObj = {\r\n    start: newStart,\r\n    end: seed,\r\n    distance: currentDistance,\r\n  };\r\n  return returnObj;\r\n}\r\n\r\n// Select a subrgaph\r\n// you must specify a list of nodes that you passed in\r\nasync function SelectSubgraph(graph:Graph, nodeList:number[]) {\r\n  const prunedNodes:Map<number,_Node> = new Map();\r\n  const prunedEdges:Map<number, Edge> = new Map();\r\n  // set the prunded vertices list\r\n  nodeList.forEach((element) => {\r\n    // get the element from the graph and set that\r\n    // data element in the  prunded vertices map\r\n    const ndata = graph.nodes.get(element)!;\r\n    prunedNodes.set(element, ndata);\r\n  });\r\n\r\n  // set the pruned edges list\r\n  let i = 0;\r\n  for (const edge of graph.edges.keys()) {\r\n    const edgeData = graph.edges.get(edge)!;\r\n    if (nodeList.includes(edgeData.start) && nodeList.includes(edgeData.end)) {\r\n      prunedEdges.set(i, edgeData);\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  // construct a new graph that represents the new graph\r\n  const newGraph = await Graph.create(prunedNodes, prunedEdges);\r\n  return newGraph;\r\n}\r\n\r\n// this is where the exports happen\r\nexport default { GraphDiameter, Dijkstra, BFSSearch, SelectSubgraph };\r\n","import { Line } from \"../HelperClasses/Line\";\r\nimport { Point } from \"../HelperClasses/Point\";\r\nimport { _Node } from \"./_Node\";\r\nimport { Edge } from \"./Edge\";\r\n\r\ninterface Graph {\r\n  nodes: Map<number, _Node>;\r\n  edges: Map<number, Edge>;\r\n}\r\n\r\nclass Graph {\r\n  constructor(nodes: Map<number, _Node>, edges: Map<number, Edge>) {\r\n    this.nodes = nodes;\r\n    this.edges = edges;\r\n    // execute Internal methods\r\n    // this.printData();\r\n  }\r\n\r\n  // test function\r\n  printData() {\r\n    const message =\r\n      \"This is a graph with \" +\r\n      this.nodes.size +\r\n      \" nodes and \" +\r\n      this.edges.size +\r\n      \" edges\";\r\n    console.log(message);\r\n  }\r\n\r\n  // initialize\r\n  async initialize() {\r\n    await this.constructAdjacencyList();\r\n  }\r\n\r\n  // new create method\r\n  static async create(nodes: Map<number, _Node>, edges: Map<number, Edge>) {\r\n    const g = new Graph(nodes, edges);\r\n    await g.initialize();\r\n    return g;\r\n  }\r\n\r\n  // construct the adjacency list represntation\r\n  async constructAdjacencyList() {\r\n    // I'm constructing a Graph here so some of the stuff doesnt matter\r\n    this.edges.forEach((edge) => {\r\n      // get the start point\r\n      const start = edge.start;\r\n      const end = edge.end;\r\n      // set the node property\r\n      if (this.nodes.get(start)) {\r\n        const relevantSNode = this.nodes.get(start);\r\n        relevantSNode!.neighbours.push(end);\r\n      } else if (this.nodes.get(end)) {\r\n        const relevantENode = this.nodes.get(end);\r\n        relevantENode!.neighbours.push(start);\r\n      }\r\n    });\r\n    // then for each node then get the unique neighbours\r\n    for (const key of this.nodes.keys()) {\r\n      const neighs = this.nodes.get(key)!.neighbours;\r\n      const new_neigh = [...new Set(neighs)];\r\n      const selfIndex = new_neigh.indexOf(key);\r\n      if (selfIndex > -1) {\r\n        new_neigh.splice(selfIndex, 1); // 2nd parameter means remove one item only\r\n      }\r\n      this.nodes.get(key)!.neighbours = new_neigh;\r\n    }\r\n  }\r\n\r\n  // add a node\r\n  add_node(nodeID: number, data: _Node) {\r\n    this.nodes.set(nodeID, data);\r\n  }\r\n\r\n  // add an edge\r\n  add_edge(start: number, end: number, data: any) {\r\n    const newEdge = new Edge(start, end, data);\r\n    // this is a new edge that we add to the edges\r\n    this.edges.set(this.edges.size, newEdge);\r\n    // also add this to the node neighbours\r\n    const relevantNode = this.nodes.get(start);\r\n    relevantNode!.neighbours.push(end);\r\n  }\r\n\r\n  // get an adjacency list reprentation of the graph\r\n  // this onlu has the indices and not the actual data\r\n  // associated with the node to speed things up\r\n  get_adjacency() {\r\n    const SparseMap: Map<number, number[]> = new Map();\r\n    // iterate through the node list\r\n    for (const key of this.nodes.keys()) {\r\n      SparseMap.set(key, this.nodes.get(key)!.neighbours);\r\n    }\r\n    return SparseMap;\r\n  }\r\n\r\n  // set position based on an array of positions\r\n  // this could be anything (we use kamada kawai )\r\n  apply_position_map(data: Map<number, Point>) {\r\n    for (let n of data.keys()) {\r\n      this.nodes.get(n)!.data = {\r\n        ...this.nodes.get(n)!.data,\r\n        pos: data.get(n),\r\n      };\r\n    }\r\n  }\r\n\r\n  // create new edge pos representation\r\n  // same approach for applying the key data\r\n  apply_edge_pos_maps(data: Map<number, Line>) {\r\n    for (let key of data.keys()) {\r\n      this.edges.get(key)!.data = {\r\n        ...this.edges.get(key)!.data,\r\n        ldata: data.get(key),\r\n      };\r\n    }\r\n  }\r\n\r\n  // get the edge reps\r\n  // this returns all the edge map readings\r\n  get_edge_map() {\r\n    const lines: Map<number, Line> = new Map();\r\n    for (const key of this.edges.keys()) {\r\n      const edge = this.edges.get(key)!.data.ldata;\r\n      lines.set(key, edge);\r\n    }\r\n    return lines;\r\n  }\r\n\r\n  // graph apply pos and edge map\r\n  apply_drawing_maps(layout:{\r\n    pmap:Map<number,Point>\r\n    emap:Map<number,Line>\r\n  }) {\r\n    if (layout.pmap) {\r\n      this.apply_position_map(layout.pmap);\r\n    }\r\n    if (layout.emap) {\r\n      this.apply_edge_pos_maps(layout.emap);\r\n    }\r\n  }\r\n\r\n  // get the positon map of the graph\r\n  get_map() {\r\n    return {\r\n      pmap: this.get_position_map(),\r\n      emap: this.get_edge_map(),\r\n    };\r\n  }\r\n\r\n  get_position_map(){\r\n    const pmap: Map<number, Point> = new Map();\r\n    for (const node of this.nodes.keys()) {\r\n      pmap.set(node, this.nodes.get(node)!.data.pos);\r\n    }\r\n    return pmap\r\n  }\r\n}\r\n\r\n// Export the graph Library\r\nexport { Graph };\r\n","interface Edge {\r\n  start: number;\r\n  end: number;\r\n  data: any;\r\n}\r\n\r\nclass Edge {\r\n  constructor(start:number, end:number, data:any) {\r\n    this.start = start;\r\n    this.end = end;\r\n    this.data = { ...data };\r\n  }\r\n}\r\n\r\nexport { Edge };\r\n","import * as THREE from \"three\";\r\nimport { Point } from \"../HelperClasses/Point\";\r\nimport { Line } from \"../HelperClasses/Line\";\r\nimport {hexToRgb} from \"../HelperClasses/ColorHelper\"\r\nimport { Line2 } from \"three/examples/jsm/lines/Line2.js\";\r\nimport { LineMaterial } from \"three/examples/jsm/lines/LineMaterial\";\r\nimport { LineGeometry } from \"three/examples/jsm/lines/LineGeometry\";\r\nimport { vertexShader } from \"../Shaders/vertexShader.glsl\";\r\nimport { fragmentShader } from \"../Shaders/fragmentShader.glsl\";\r\nimport GraphMethods from \"../GraphAlgorithms/GraphMethods\";\r\nimport { Graph } from \"../Core/Graph\";\r\nimport { _Node } from \"../Core/_Node\";\r\n\r\n// Draw the graph out as a bunch of vertices\r\n// As like tiny squares\r\nfunction DrawTHREEGraphVertices(\r\n  Graph: Graph,\r\n  bounds: number,\r\n  size: number | number[] = 1,\r\n  color: number = 0xffffff,\r\n  alpha: number = 1\r\n) {\r\n  const positionAttribute: number[] = [];\r\n  // get the corresponding points list\r\n  const pmap = Graph.get_position_map();\r\n  // declare the sizes and colors\r\n  let sizes: number[];\r\n  let colors: number[];\r\n  if (typeof size == \"number\") {\r\n    sizes = Array(Graph.nodes.size).fill(size);\r\n  } else {\r\n    sizes = size;\r\n  }\r\n  colors = Array(Graph.nodes.size).fill(color);\r\n  const labels = [];\r\n  const colorVal = new THREE.Color();\r\n  colorVal.setRGB(255, 255, 255); // white as the default\r\n  // process the data set\r\n  let i = 0;\r\n  let nodeData: Point;\r\n  for (let node of Graph.nodes.keys()) {\r\n    nodeData = pmap.get(node)!;\r\n    positionAttribute.push(\r\n      nodeData.x * bounds,\r\n      nodeData.y * bounds,\r\n      nodeData.z * bounds\r\n    );\r\n\r\n    colorVal.toArray(colors, i * 3);\r\n    labels.push(node);\r\n    i += 1;\r\n  }\r\n\r\n  const geometry = new THREE.BufferGeometry();\r\n  // geometry attribute\r\n  geometry.setAttribute(\r\n    \"position\",\r\n    new THREE.Float32BufferAttribute(positionAttribute, 3)\r\n  );\r\n  // color attribute\r\n  geometry.setAttribute(\r\n    \"customColor\",\r\n    new THREE.Float32BufferAttribute(colors, 3)\r\n  );\r\n  // size attribute\r\n  geometry.setAttribute(\"size\", new THREE.Float32BufferAttribute(sizes, 1));\r\n  // label attribute\r\n  geometry.setAttribute(\"label\", new THREE.Int32BufferAttribute(labels, 1));\r\n  geometry.name = \"nodes\";\r\n\r\n  // example material\r\n  const PointMaterial = new THREE.ShaderMaterial({\r\n    uniforms: {\r\n      color: { value: new THREE.Color(0xffffff) }, // this is a base color dont mess with this\r\n      pointTexture: {\r\n        value: new THREE.TextureLoader().load(\"./Textures/Square.png\"),\r\n      },\r\n      alphaTest: { value: alpha },\r\n    },\r\n    vertexShader: vertexShader,\r\n    fragmentShader: fragmentShader,\r\n  });\r\n\r\n  const vertices = new THREE.Group();\r\n  vertices.add(new THREE.Points(geometry, PointMaterial));\r\n  return vertices;\r\n}\r\n\r\n// then make a thing which draws out all the edges (THICK)\r\nfunction DrawTHREEGraphEdgesThick(\r\n  G: Graph,\r\n  bounds: number,\r\n  thickness: number = 0.2,\r\n  color = 0xffffff\r\n) {\r\n  // add the interpolation function\r\n  const lineMap = G.get_edge_map();\r\n  return DrawThickEdgesFromEdgeMap(lineMap, bounds, thickness, color);\r\n}\r\n\r\n// draw a thing to draw out all the edges from the edge map stuff\r\nfunction DrawThickEdgesFromEdgeMap(\r\n  emap: Map<number, Line>,\r\n  bounds: number,\r\n  thickness: number = 0.2,\r\n  color: number = 0xffffff\r\n) {\r\n  // this is the line thing\r\n  const mat = new LineMaterial({\r\n    color: color,\r\n    linewidth: thickness, // in world units with size attenuation, pixels otherwise\r\n    vertexColors: true,\r\n\r\n    //resolution:  // to be set by renderer, eventually\r\n    dashed: false,\r\n    alphaToCoverage: true,\r\n  });\r\n\r\n  const meshes = new THREE.Group();\r\n  for (let lval of emap.values()) {\r\n    const mcolor = new THREE.Color();\r\n    // convert the color that we shall be using\r\n    mcolor.setHex(color);\r\n    const pnts: number[] = [];\r\n    const cols: number[] = [];\r\n\r\n    lval.points.forEach((pnt) => {\r\n      pnts.push(\r\n        pnt.x * bounds - bounds / 2,\r\n        pnt.y * bounds - bounds / 2,\r\n        pnt.z * bounds - bounds / 2\r\n      );\r\n      cols.push(mcolor.r, mcolor.g, mcolor.b);\r\n    });\r\n\r\n    const geo = new LineGeometry();\r\n    geo.setPositions(pnts);\r\n    geo.setColors(cols);\r\n    const line = new Line2(geo, mat);\r\n    line.computeLineDistances();\r\n    line.scale.set(1, 1, 1);\r\n    meshes.add(line);\r\n  }\r\n  return meshes;\r\n}\r\n\r\n// make a thing that draws out all the lines (Thin)\r\nfunction DrawTHREEGraphEdgesThin(\r\n  G: Graph,\r\n  bounds: number,\r\n  color: number = 0xffffff\r\n) {\r\n  // first get the edge map positions\r\n  const emap = G.get_edge_map();\r\n  return DrawThinEdgesFromEdgeMap(emap, bounds, color);\r\n}\r\n\r\n// function to draw edges from edge map\r\nfunction DrawThinEdgesFromEdgeMap(\r\n  emap: Map<number, Line>,\r\n  bounds: number,\r\n  color: number = 0xffffff\r\n) {\r\n  const material = new THREE.LineBasicMaterial({\r\n    color: color,\r\n  });\r\n  const lines = new THREE.Group();\r\n  let points: THREE.Vector3[];\r\n  for (const edge of emap.values()) {\r\n    points = [];\r\n    // get the edge data\r\n    const ldata = edge.points;\r\n    ldata.forEach((element) => {\r\n      points.push(\r\n        new THREE.Vector3(\r\n          element.x * bounds,\r\n          element.y * bounds,\r\n          element.z * bounds\r\n        )\r\n      );\r\n    });\r\n    // then make the line thing\r\n    const geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n    const line = new THREE.Line(geometry, material);\r\n    lines.add(line);\r\n  }\r\n  return lines;\r\n}\r\n\r\n// draw the cube box graph here\r\nfunction AddBoxBasedImaging(\r\n  nodeMap: Map<number, Point>,\r\n  bounds: number,\r\n  color: number = 0xffffff,\r\n  size: number | number[] = 10\r\n) {\r\n  // precompute all the sizes\r\n  let sizes: any;\r\n  if (typeof size == \"number\") {\r\n    sizes = Array(nodeMap.size).fill(size);\r\n  } else {\r\n    sizes = size;\r\n  }\r\n  // returns a group\r\n  const group = new THREE.Group();\r\n  const material = new THREE.MeshBasicMaterial({ color: color });\r\n  let nodeData;\r\n  let geometry: THREE.BoxGeometry;\r\n  let nodeMesh: THREE.Mesh;\r\n  for (let i = 0; i < nodeMap.size; i++) {\r\n    nodeData = nodeMap.get(i)!;\r\n    geometry = new THREE.BoxGeometry(sizes[i]);\r\n    geometry.name = i.toString();\r\n    nodeMesh = new THREE.Mesh(geometry, material);\r\n    nodeMesh.position.set(\r\n      nodeData.x * bounds,\r\n      nodeData.y * bounds,\r\n      nodeData.z * bounds\r\n    );\r\n    group.add(nodeMesh);\r\n  }\r\n  return group;\r\n}\r\n\r\n// Draw BoxBased imaging from a graph\r\nfunction DrawTHREEBoxBasedVertices(\r\n  graph: Graph,\r\n  bounds: number,\r\n  color: number = 0xffffff,\r\n  size: number | number[] = 10\r\n) {\r\n  const pmap = graph.get_position_map();\r\n  const Bgroup = AddBoxBasedImaging(pmap, bounds, color, size);\r\n  return Bgroup;\r\n}\r\n\r\n// draw cylinders where required\r\nfunction AddCylinderBasedImaging(\r\n  nodeMap: Map<number, Point>,\r\n  divisonLength: number,\r\n  color: number = 0xffffff,\r\n  size: number | number[] = 10\r\n) {\r\n  // precompute all the sizes\r\n  let sizes: any;\r\n  if (typeof size == \"number\") {\r\n    sizes.Array(nodeMap.size).fill(size);\r\n  } else {\r\n    sizes = size;\r\n  }\r\n  // returns a group\r\n  const group = new THREE.Group();\r\n  const material = new THREE.MeshBasicMaterial({ color: color });\r\n  let radius, circumfurence, segments;\r\n  let nodeData: Point;\r\n  for (let i = 0; i < nodeMap.size; i++) {\r\n    nodeData = nodeMap.get(i)!;\r\n    radius = sizes[i];\r\n    circumfurence = 2 * radius * Math.PI;\r\n    segments = Math.ceil(circumfurence / divisonLength);\r\n    const geometry = new THREE.CylinderGeometry(radius, radius, 10, segments);\r\n    geometry.name = i.toString();\r\n    const nodeMesh = new THREE.Mesh(geometry, material);\r\n    nodeMesh.position.set(nodeData.x, nodeData.y, nodeData.z);\r\n    group.add(nodeMesh);\r\n  }\r\n  return group;\r\n}\r\n\r\n// draw the sparse graph as groups\r\n// this seperates all the points based on some or the other group\r\nasync function AddInModularityBasedPointGroups(\r\n  Graph: Graph,\r\n  propertyName: string\r\n) {\r\n  // returns an array of groups\r\n  const groups: Map<number, number[]> = new Map();\r\n  let ndata: _Node;\r\n  let modularity: number;\r\n  for (let node of Graph.nodes.keys()) {\r\n    ndata = Graph.nodes.get(node)!;\r\n    modularity = eval(`ndata.data.${propertyName}}`);\r\n    if (groups.has(modularity)) {\r\n      groups.get(modularity)!.push(node);\r\n    } else {\r\n      groups.set(modularity, [node]);\r\n    }\r\n  }\r\n  // then counstruct a bunch of subraphs\r\n  const meshGraphVertices: Map<number, THREE.Group> = new Map();\r\n  const meshGraphEdges: Map<number, THREE.Group> = new Map();\r\n  let subgraphGroup: number[];\r\n  let subgraph: Graph;\r\n  let pointRep: THREE.Group;\r\n  let edges: THREE.Group;\r\n  for (let modularityGroup of groups.keys()) {\r\n    subgraphGroup = groups.get(modularityGroup)!;\r\n    // returns an array\r\n    subgraph = await GraphMethods.SelectSubgraph(Graph, subgraphGroup);\r\n    // then make the vertex thing\r\n    pointRep = DrawTHREEGraphVertices(subgraph, 1);\r\n    meshGraphVertices.set(modularityGroup, pointRep);\r\n    // make the edges\r\n    edges = DrawSimplifiedEdges(subgraph, 0.03);\r\n    meshGraphEdges.set(modularityGroup, edges);\r\n  }\r\n  const ROBJ = {\r\n    nodeGroups: meshGraphVertices,\r\n    EdgeGroups: meshGraphEdges,\r\n  };\r\n  return ROBJ;\r\n}\r\n\r\nfunction DrawSimplifiedEdges(\r\n  G: Graph,\r\n  amount: number,\r\n  color: number = 0xffffff\r\n) {\r\n  const lineGroup = new THREE.Group();\r\n  const material = new THREE.LineBasicMaterial({ color: color });\r\n  let start: Point;\r\n  let end: Point;\r\n  let points: THREE.Vector3[];\r\n  for (let edge of G.edges.values()) {\r\n    if (Math.random() <= amount) {\r\n      start = G.nodes.get(edge.start)!.data.pos;\r\n      end = G.nodes.get(edge.end)!.data.pos;\r\n      points = [];\r\n      points.push(new THREE.Vector3(start.x, start.y, start.z));\r\n      points.push(new THREE.Vector3(end.x, end.y, end.z));\r\n      const geometry = new THREE.BufferGeometry().setFromPoints(points);\r\n      const line = new THREE.Line(geometry, material);\r\n      lineGroup.add(line);\r\n    }\r\n  }\r\n  return lineGroup;\r\n}\r\n\r\nfunction ChangeTheVertexColours(vertices:THREE.Points, indexArray:number[], color:number) {\r\n  let Attrib = vertices.geometry.attributes;\r\n  let k = 0;\r\n  const newCol = hexToRgb(color)!;\r\n  indexArray.forEach((node) => {\r\n    k = node * 3; // @ts-ignore\r\n    Attrib.customColor.array[k] = newCol.r; // @ts-ignore\r\n    Attrib.customColor.array[k + 1] = newCol.g; // @ts-ignore\r\n    Attrib.customColor.array[k + 2] = newCol.b;\r\n  });\r\n  Attrib.customColor.needsUpdate = true;\r\n}\r\n\r\nfunction ResetVertexColors(vertices:THREE.Points) {\r\n  let Attrib = vertices.geometry.attributes;\r\n  let k = 0;\r\n  for (let i = 0; i < Attrib.customColor.count; i++) {\r\n    k = i * 3; // @ts-ignore\r\n    Attrib.customColor.array[k] = 255; // @ts-ignore\r\n    Attrib.customColor.array[k + 1] = 255; // @ts-ignore\r\n    Attrib.customColor.array[k + 2] = 255;\r\n  }\r\n  Attrib.customColor.needsUpdate = true;\r\n}\r\n\r\nexport default {\r\n  DrawTHREEGraphVertices,\r\n  DrawTHREEGraphEdgesThick,\r\n  DrawTHREEGraphEdgesThin,\r\n  AddBoxBasedImaging,\r\n  AddInModularityBasedPointGroups,\r\n  DrawThinEdgesFromEdgeMap,\r\n  DrawThickEdgesFromEdgeMap,\r\n  AddCylinderBasedImaging,\r\n  DrawSimplifiedEdges,\r\n  ChangeTheVertexColours,\r\n  ResetVertexColors,\r\n  DrawTHREEBoxBasedVertices,\r\n};\r\n","///////////////\r\n// color convert by Tim Down\r\n// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\nfunction componentToHex(c:number) {\r\n  var hex = c.toString(16);\r\n  return hex.length == 1 ? \"0\" + hex : hex;\r\n}\r\n\r\nfunction rgbToHex(r:number, g:number, b:number) {\r\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nfunction hexToRgb(hex:string|number) {\r\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.toString().replace(shorthandRegex, function (m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16),\r\n      }\r\n    : null;\r\n}\r\n\r\n\r\nexport{\r\n    rgbToHex,\r\n    hexToRgb\r\n}","const vertexShader = `\r\nattribute float size;\r\nattribute vec3 customColor;\r\n\r\nvarying vec3 vColor;\r\n\r\nvoid main() {\r\n    vColor = customColor;\r\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n    gl_PointSize = size * ( 300.0 / -mvPosition.z );\r\n    gl_Position = projectionMatrix * mvPosition;\r\n}\r\n`\r\n\r\nexport {vertexShader};","const fragmentShader = `\r\nuniform vec3 color;\r\nuniform sampler2D pointTexture;\r\nuniform float alphaTest;\r\n\r\nvarying vec3 vColor;\r\n\r\nvoid main() {\r\n    gl_FragColor = vec4( color * vColor, 1.0 );\r\n    gl_FragColor = gl_FragColor * texture2D( pointTexture, gl_PointCoord );\r\n    if ( gl_FragColor.a < alphaTest ) discard;\r\n}\r\n`;\r\n\r\nexport { fragmentShader };\r\n","export { Graph } from \"./Core/Graph\";\r\nexport { default as GraphMethods } from \"./GraphAlgorithms/GraphMethods\";\r\nexport { default as SampleData } from \"./SampleData/DataLoader\";\r\nexport { default as Constructors } from \"./HelperClasses/GraphConstructors\";\r\nexport { default as Drawing } from \"./Drawing/Drawing\";\r\nexport { default as Geometry } from \"./HelperClasses/GeometryHelpers\";\r\nexport { default as Utilities } from \"./HelperClasses/Utilities\";\r\nexport { default as threeDWrapper } from \"./Drawing/ThreeJSDrawer\";\r\nexport { default as GraphDrawer } from \"./Drawing/GraphDrawer\";","// load up the ZKC dataset\r\nimport { zkc } from \"./ZKC\";\r\nimport { zkc_simulated } from \"./ZKC_simulated\";\r\nimport GraphConstructors from \"../HelperClasses/GraphConstructors\";\r\nimport { Graph } from \"../Core/Graph\";\r\nimport { Point } from \"../HelperClasses/Point\";\r\nimport { _Node } from \"../Core/_Node\";\r\nimport { Edge } from \"../Core/Edge\";\r\nimport Drawing from \"../Drawing/Drawing\";\r\n\r\nasync function LoadZKC() {\r\n  // load up the dataset representation\r\n  const data = zkc;\r\n  const G = await GraphConstructors.ConstructGraphNodeEdgesList(data.nodes, data.edges);\r\n  return G;\r\n}\r\n\r\nasync function LoadZKCSimulated() {\r\n  // make a map\r\n  const data = zkc_simulated;\r\n  const nodes = new Map();\r\n  const edges = new Map();\r\n  // set the node map\r\n  data.nodes.forEach((node) => {\r\n    const id = node.id;\r\n    const pos = new Point(node.px*50, 0, node.py*50);\r\n    const modularity = node.member;\r\n    const n = new _Node({ pos: pos, size:10, info:\"Node Info\", modularity:modularity });\r\n    nodes.set(id, n);\r\n  });\r\n  // set the edge map\r\n  for (let i = 0; i < data.edges.length; i++) {\r\n    const edge = data.edges[i];\r\n    const start = edge[0];\r\n    const end = edge[1];\r\n    const e = new Edge(start, end, {});\r\n    edges.set(i, e);\r\n  }\r\n  // make a graph object\r\n  const G = await Graph.create(nodes, edges);\r\n  const lmap = Drawing.DrawEdgeLines(G, 10);\r\n  G.apply_edge_pos_maps(lmap);\r\n  return G;\r\n}\r\n\r\n// exports\r\nexport default { LoadZKC, LoadZKCSimulated };\r\n","const zkc = {\r\n  nodes: [\r\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\r\n    21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,\r\n  ],\r\n  edges: [\r\n    [0, 1],\r\n    [0, 2],\r\n    [0, 3],\r\n    [0, 4],\r\n    [0, 5],\r\n    [0, 6],\r\n    [0, 7],\r\n    [0, 8],\r\n    [0, 10],\r\n    [0, 11],\r\n    [0, 12],\r\n    [0, 13],\r\n    [0, 17],\r\n    [0, 19],\r\n    [0, 21],\r\n    [0, 31],\r\n    [1, 2],\r\n    [1, 3],\r\n    [1, 7],\r\n    [1, 13],\r\n    [1, 17],\r\n    [1, 19],\r\n    [1, 21],\r\n    [1, 30],\r\n    [2, 3],\r\n    [2, 7],\r\n    [2, 8],\r\n    [2, 9],\r\n    [2, 13],\r\n    [2, 27],\r\n    [2, 28],\r\n    [2, 32],\r\n    [3, 7],\r\n    [3, 12],\r\n    [3, 13],\r\n    [4, 6],\r\n    [4, 10],\r\n    [5, 6],\r\n    [5, 10],\r\n    [5, 16],\r\n    [6, 16],\r\n    [8, 30],\r\n    [8, 32],\r\n    [8, 33],\r\n    [9, 33],\r\n    [13, 33],\r\n    [14, 32],\r\n    [14, 33],\r\n    [15, 32],\r\n    [15, 33],\r\n    [18, 32],\r\n    [18, 33],\r\n    [19, 33],\r\n    [20, 32],\r\n    [20, 33],\r\n    [22, 32],\r\n    [22, 33],\r\n    [23, 25],\r\n    [23, 27],\r\n    [23, 29],\r\n    [23, 32],\r\n    [23, 33],\r\n    [24, 25],\r\n    [24, 27],\r\n    [24, 31],\r\n    [25, 31],\r\n    [26, 29],\r\n    [26, 33],\r\n    [27, 33],\r\n    [28, 31],\r\n    [28, 33],\r\n    [29, 32],\r\n    [29, 33],\r\n    [30, 32],\r\n    [30, 33],\r\n    [31, 32],\r\n    [31, 33],\r\n    [32, 33],\r\n  ],\r\n};\r\n\r\nexport { zkc };\r\n","const zkc_simulated = {\r\n  nodes: [\r\n    { id: 0, px: 0.09083423378081436, py: 1.164162667707135, member: 0 },\r\n    { id: 1, px: -0.5395391223661004, py: 0.8787097882002372, member: 0 },\r\n    { id: 2, px: 0.25483951690897244, py: -0.011894166387290125, member: 0 },\r\n    { id: 3, px: 0.5292273814873625, py: 0.8137715604013231, member: 0 },\r\n    { id: 4, px: 0.6759740200024705, py: 2.010590015934319, member: 3 },\r\n    { id: 5, px: 0.6648725961138767, py: 2.3765595730406712, member: 3 },\r\n    { id: 6, px: -0.015476857282255526, py: 2.421851366492045, member: 3 },\r\n    { id: 7, px: 0.9923183157183725, py: 0.7358251458599251, member: 0 },\r\n    { id: 8, px: -0.6148021363450372, py: -0.03465499210385469, member: 1 },\r\n    { id: 9, px: 0.24714516178546894, py: -1.012380550604274, member: 0 },\r\n    { id: 10, px: 1.3293288757439443, py: 1.8641805845025743, member: 3 },\r\n    { id: 11, px: -0.6571791278403557, py: 2.2163816367270526, member: 0 },\r\n    { id: 12, px: 1.5181044222926994, py: 1.3282665066698078, member: 0 },\r\n    { id: 13, px: -0.2979203330003603, py: 0.18438685313887027, member: 0 },\r\n    { id: 14, px: -1.7502345807734376, py: -1.0935551887354324, member: 1 },\r\n    { id: 15, px: -1.630224787934251, py: -1.5015879850995024, member: 1 },\r\n    { id: 16, px: 0.5585243394360673, py: 3.5, member: 3 },\r\n    { id: 17, px: -0.9776584881745712, py: 1.799718659872538, member: 0 },\r\n    { id: 18, px: -1.385649185975611, py: -1.870388302312794, member: 1 },\r\n    { id: 19, px: -0.9638464461397331, py: 0.24226946279518707, member: 0 },\r\n    { id: 20, px: -1.0268125129631975, py: -2.1543990524894148, member: 1 },\r\n    { id: 21, px: -1.3061680833745626, py: 1.527228276383933, member: 0 },\r\n    { id: 22, px: -0.5552461198316926, py: -2.2498070887997685, member: 1 },\r\n    { id: 23, px: 0.8262268914348979, py: -1.804253160744954, member: 2 },\r\n    { id: 24, px: 1.9952840970427212, py: -1.0382885070400036, member: 2 },\r\n    { id: 25, px: 1.9207660053211613, py: -0.5823795272244723, member: 2 },\r\n    { id: 26, px: -0.1664715343791652, py: -2.6527209168204373, member: 1 },\r\n    { id: 27, px: 0.9961959436268844, py: -1.0143754028553023, member: 2 },\r\n    { id: 28, px: 0.6488880579857091, py: -1.024671500275854, member: 2 },\r\n    { id: 29, px: 0.2398196340697841, py: -2.171491081802323, member: 1 },\r\n    { id: 30, px: -1.3348117368940753, py: -0.31290471156377053, member: 1 },\r\n    { id: 31, px: 0.6901260074375327, py: -0.2526601933356052, member: 2 },\r\n    { id: 32, px: -0.6030949145287146, py: -1.0927507849665647, member: 1 },\r\n    { id: 33, px: -0.3533395323856202, py: -1.1887389845640028, member: 1 },\r\n  ],\r\n  edges: [\r\n    [0, 1],\r\n    [0, 2],\r\n    [0, 3],\r\n    [0, 4],\r\n    [0, 5],\r\n    [0, 6],\r\n    [0, 7],\r\n    [0, 8],\r\n    [0, 10],\r\n    [0, 11],\r\n    [0, 12],\r\n    [0, 13],\r\n    [0, 17],\r\n    [0, 19],\r\n    [0, 21],\r\n    [0, 31],\r\n    [1, 2],\r\n    [1, 3],\r\n    [1, 7],\r\n    [1, 13],\r\n    [1, 17],\r\n    [1, 19],\r\n    [1, 21],\r\n    [1, 30],\r\n    [2, 3],\r\n    [2, 7],\r\n    [2, 8],\r\n    [2, 9],\r\n    [2, 13],\r\n    [2, 27],\r\n    [2, 28],\r\n    [2, 32],\r\n    [3, 7],\r\n    [3, 12],\r\n    [3, 13],\r\n    [4, 6],\r\n    [4, 10],\r\n    [5, 6],\r\n    [5, 10],\r\n    [5, 16],\r\n    [6, 16],\r\n    [8, 30],\r\n    [8, 32],\r\n    [8, 33],\r\n    [9, 33],\r\n    [13, 33],\r\n    [14, 32],\r\n    [14, 33],\r\n    [15, 32],\r\n    [15, 33],\r\n    [18, 32],\r\n    [18, 33],\r\n    [19, 33],\r\n    [20, 32],\r\n    [20, 33],\r\n    [22, 32],\r\n    [22, 33],\r\n    [23, 25],\r\n    [23, 27],\r\n    [23, 29],\r\n    [23, 32],\r\n    [23, 33],\r\n    [24, 25],\r\n    [24, 27],\r\n    [24, 31],\r\n    [25, 31],\r\n    [26, 29],\r\n    [26, 33],\r\n    [27, 33],\r\n    [28, 31],\r\n    [28, 33],\r\n    [29, 32],\r\n    [29, 33],\r\n    [30, 32],\r\n    [30, 33],\r\n    [31, 32],\r\n    [31, 33],\r\n    [32, 33],\r\n  ],\r\n};\r\n\r\nexport { zkc_simulated };\r\n","import { Graph } from \"../Core/Graph\";\r\nimport { _Node } from \"../Core/_Node\";\r\nimport { Edge } from \"../Core/Edge\";\r\n\r\n// construct a graph based on an edge list etc\r\nasync function ConstructGraphNodeEdgesList(nodes:any[], edges:any[]) {\r\n  // make a node OBJ\r\n  const nodeOBJ = new Map();\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    const n = new _Node(nodes[i].data);\r\n    nodeOBJ.set(nodes[i], n);\r\n  }\r\n  // make an edge object\r\n  const edgeOBJ = new Map();\r\n  for (let i = 0; i < edges.length; i++) {\r\n    const e = new Edge(edges[i][0], edges[i][1], edges[i].data);\r\n    edgeOBJ.set(i, e);\r\n  }\r\n  // make a graph object\r\n  const G = await Graph.create(nodeOBJ, edgeOBJ);\r\n  return G;\r\n}\r\n\r\nexport default { ConstructGraphNodeEdgesList };\r\n","// note this file is always reffered to as\r\n// _Node to not confuse with node (js) and\r\n// Vertices which are another 3d object that\r\n// can be changed in three js\r\ninterface _Node {\r\n  data: any;\r\n  neighbours: number[];\r\n}\r\n\r\nclass _Node {\r\n  constructor(data:any) {\r\n    // this data is an arbitrary thing with which I can create any object\r\n    this.data = { ...data };\r\n    // the neighbours bit is explicity set from the code outside\r\n    this.neighbours = [];\r\n  }\r\n}\r\n\r\nexport { _Node };\r\n","import * as THREE from \"three\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport PGLTHREEWrapper from \"./ThreeJSDrawer\";\r\nimport { Graph } from \"../Core/Graph\";\r\n\r\n// interface for the graph drawing class\r\ninterface GraphDrawer3d {\r\n  canvas: HTMLCanvasElement;\r\n  width: number;\r\n  height: number;\r\n  geometryMap: Map<any, any>;\r\n  materialMap: Map<any, any>;\r\n  meshMap: Map<any, any>;\r\n  controls: OrbitControls;\r\n  renderer: THREE.WebGLRenderer;\r\n  camera: THREE.PerspectiveCamera;\r\n  scene: THREE.Scene;\r\n  bounds: number;\r\n  graphs: Map<number, Graph>;\r\n}\r\n\r\n// this is the 3d graph drawing class with three js\r\nclass GraphDrawer3d {\r\n  constructor(\r\n    GraphDrawerOptions3d: {\r\n      canvas: HTMLCanvasElement;\r\n      width: number;\r\n      height: number;\r\n      geometryMap: Map<any, any>;\r\n      materialMap: Map<any, any>;\r\n      meshMap: Map<any, any>;\r\n      controls: OrbitControls;\r\n      renderer: THREE.WebGLRenderer;\r\n      camera: THREE.PerspectiveCamera;\r\n      scene: THREE.Scene;\r\n      bounds: number;\r\n    },\r\n    graphs: Graph[]\r\n  ) {\r\n    this.canvas = GraphDrawerOptions3d.canvas;\r\n    this.width = GraphDrawerOptions3d.width;\r\n    this.height = GraphDrawerOptions3d.height;\r\n    // these maps are optional\r\n    // ive kepth them in as a way of managing all the\r\n    // geometry in the scene\r\n    this.geometryMap = new Map();\r\n    this.materialMap = new Map();\r\n    this.meshMap = new Map();\r\n    this.controls;\r\n    this.renderer;\r\n    this.camera;\r\n    this.scene;\r\n    // bounds is a global parameter that we change (think about this as scale)\r\n    this.bounds = GraphDrawerOptions3d.bounds;\r\n    // graph map is the hash map that holds all the\r\n    // graphs that we are working with together\r\n    this.graphs = new Map();\r\n    // add the default graph to the graph map\r\n    for (let i = 0; i < graphs.length; i++) {\r\n      const g = graphs[i];\r\n      this.graphs.set(i, g);\r\n    }\r\n  }\r\n\r\n  async init() {\r\n    const t1 = performance.now();\r\n\r\n    this.camera = new THREE.PerspectiveCamera();\r\n\r\n    // start up a new scene\r\n    this.scene = new THREE.Scene();\r\n\r\n    // set up a renderer\r\n    this.renderer = new THREE.WebGLRenderer({\r\n      canvas: this.canvas,\r\n      antialias: true,\r\n    });\r\n    this.renderer.setSize(this.width, this.height);\r\n    this.renderer.setClearColor(0xff00ff, 0);\r\n\r\n    // add in a light\r\n    this.scene.add(new THREE.AmbientLight(0xffffff));\r\n    // add a spotlight\r\n    const DirectionalLight = new THREE.DirectionalLight(0xffffff, 1);\r\n    DirectionalLight.position.set(0, 10, 0);\r\n    this.scene.add(DirectionalLight);\r\n\r\n    // set up the control system\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n    this.camera.position.set(0, 100, 100);\r\n    this.controls.autoRotate = true;\r\n    this.controls.maxPolarAngle = Math.PI * 0.5;\r\n    this.controls.maxDistance = 1000;\r\n    this.controls.minDistance = 10;\r\n    this.controls.update();\r\n\r\n    // add in the graph that we wanted this.graphs.get('ProvidedGraph')\r\n    for (const graph of this.graphs.keys()) {\r\n      const GeoGraph = PGLTHREEWrapper.DrawTHREEBoxBasedVertices(\r\n        this.graphs.get(graph)!,\r\n        this.bounds\r\n      );\r\n      this.scene.add(GeoGraph);\r\n      const ThickEdges = PGLTHREEWrapper.DrawTHREEGraphEdgesThick(\r\n        this.graphs.get(graph)!,\r\n        this.bounds\r\n      );\r\n      this.scene.add(ThickEdges);\r\n    }\r\n\r\n    // edges\r\n\r\n    // finally print out that the initialization has finished\r\n    const t2 = performance.now();\r\n    console.log(\"initialization has finished\");\r\n    console.log(`Time to initialize ${t2 - t1} milliseconds`);\r\n  }\r\n\r\n  // this stuff renders out one specific instances\r\n  rendercall() {\r\n    // this is the render draw call\r\n    this.renderer.render(this.scene, this.camera);\r\n    this.controls.update();\r\n  }\r\n}\r\n\r\nexport default {\r\n  GraphDrawer3d,\r\n};\r\n"],"names":[],"version":3,"file":"pgl.js.map"}